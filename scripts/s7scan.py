
import os
import sys
sys.path.append('./scripts/isf')
from icssploit.clients.s7_client import S7Client

ip_400 = os.environ["s7_400"]
target = S7Client(name="S7-400", ip=ip_400, rack=0, slot=3)
try:
	target.connect()
	output = target.get_target_info() + (ip_400,)
	print('\033[46;1m' + " | ".join(output) + '\033[0m')
except:
	print('\033[41;1mSomething went wrong while connecting to ' + ip_400 + '\033[0m')

ip_1500 = os.environ["s7_1500"]
target2 = S7Client(name="S7-1500", ip=ip_1500, rack=0, slot=3)
try:
	target2.connect()
	output = target2.get_target_info() + (ip_1500,)
	print('\033[46;1m' + " | ".join(output) + '\033[0m')
except:
	print('\033[41;1mSomething went wrong while connecting to ' + ip_1500 + '\033[0m')
