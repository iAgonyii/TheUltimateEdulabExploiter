
import os
from pycomm3 import LogixDriver

ip_cl = os.environ["controllogix"]
tag = os.environ["cltag"]
try:
    print('\033[46;1mControlLogix 5581E PLC - ' + ip_cl + ':\033[0m')
    with LogixDriver(ip_cl) as plc:
        output = plc.read(tag)
        print(output)
        print(plc.write((tag, not output.value)))
        print(plc.write((tag, output.value)))
except:
    print('\033[41;1mSomething went wrong while connecting to ' + ip_cl + '\033[0m')
